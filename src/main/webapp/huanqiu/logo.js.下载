!function(e,t){"function"==typeof define&&define.amd?define("widget/logo",[],t):e.logo=t()}("undefined"!=typeof self?self:this,function(){function e(){}function t(){var e=null;try{e=window.baidu&&window.baidu.mobads&&window.baidu.mobads.Sdk||window.parent&&parent.baidu&&parent.baidu.mobads&&parent.baidu.mobads.Sdk}catch(t){}return e}function n(e,t){var n=document.createElement("div");n.innerHTML=t;for(var a=document.createDocumentFragment();n.childNodes.length>0;)a.appendChild(n.childNodes[0]);e.appendChild(a)}function a(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function i(e){return e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0,e.preventDefault&&e.preventDefault(),!1}function o(e){var t=null,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t+"="+encodeURIComponent(e[t]));return n.join("&")}function r(e){e=e||{};var t=e.logoUrl||"http://mssp.baidu.com",a=document.getElementById(e.containerId||"container"),i=document.getElementById(e.feedbackParentId||"container"),o=!e.hideClose&&i,r=e.closeDirect,s=e.deviceType>1?" logo-mobile-container":"",u=['<div class="logo-container'+s+'">','<a href="'+t+'" target="_blank">','<img class="logo-link" ','src="https://cpro.baidustatic.com/cpro/ui/noexpire/ws/images/logo/new-logo@2x_ef70fd1.png" />',"</a>",d(o),"</div>"].join("");if(n(a,u),o){var f=c(i.clientWidth,i.clientHeight);n(i,f),l(e.trackingInfo,r),p()}}function d(e){return e?['<div class="gap"></div>','<a href="javascript:;" id="logo-close-btn">','<img class="logo-close-img" ','src="https://cpro.baidustatic.com/cpro/ui/noexpire/ws/images/logo/close@2x_86b60c1.png" />',"</a>"].join(""):""}function c(e,t){var n=t-250>0?30:0,a=320;320>e&&e>159?a=160:160>e&&(a=80);var i=160>a?"feedback-container fd-small":"feedback-container",o=s(e,t);return['<div id="feedback-container" class="'+i+'">','<div id="reason-content" class="reason-content" data-reason-num="'+o.length+'" style="width:'+a+"px;padding-top:"+n+'px;">','<div class="intro">反馈意见：</div>',o.join(""),'<a class="fb-btn-cancel" href="javascript:;">返回</a>',"</div>",'<div id="thx-content" class="thx-content">',"<h5>感谢您的反馈！</h5>","<p>您的反馈已记录，我们将努力改善您的浏览体验。</p>","</div>","</div>"].join("")}function s(e,t){function n(){var e=parseInt(3*Math.random(),10);return[a[e],a[3]]}var a=['<a href="javascript:;" data-value="1" class="reason-item">视觉干扰</a>','<a href="javascript:;" data-value="2" class="reason-item">内容不宜</a>','<a href="javascript:;" data-value="3" class="reason-item">不感兴趣</a>','<a href="javascript:;" data-value="0" class="reason-item">其他原因</a>'];return 160>e&&106>t?[]:e>=80&&t>=106&&160>e&&168>t?n():e>=160&&t>=76&&320>e&&106>t?n():a}function l(e,n){var o=document.getElementById("logo-close-btn"),r=document.getElementById("feedback-container"),d=document.getElementById("reason-content"),c=document.getElementById("thx-content");a(o,"click",function(a){var o=t();return o&&n?(o.onAdPlayEnd(),void u(e,0)):(0===+d.getAttribute("data-reason-num")&&(d.style.display="none",u(e,0)),r.style.display="block",i(a))}),a(r,"click",function(n){n=n||window.event;var a=n.target||n.srcElement;if(a&&a.getAttribute)return null!=a.getAttribute("data-value")&&(u(e,a.getAttribute("data-value")),d.style.display="none",c.style.display="block",setTimeout(function(){c.style.display="none"},2e3),setTimeout(function(){var e=t();if(e)e.onAdPlayEnd();else if(window.parent&&window.postMessage&&window.parent.postMessage&&window.JSON&&JSON.stringify){var n={type:1,tuid:f,msg:"click"};parent.postMessage(JSON.stringify(n),"*")}},2e3)),"fb-btn-cancel"===a.className&&(r.style.display="none"),i(n)})}function u(t,n){var a="https://eclick.baidu.com/close_feedback.jpg?";t=t||{},t.reasonid=n,t._=(new Date).getTime(),a+=o(t);var i=document.createElement("img");i.onerror=e,i.src=a}function p(){if(window.parent&&window.postMessage&&window.parent.postMessage){var e=function(e){try{var t=JSON.parse(e.data);if(t&&1===t.type){f=t.tuid;var n={type:1,msg:"ok",tuid:f};window.parent.postMessage(JSON.stringify(n),"*")}}catch(a){}};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}}var f="";return{init:r}});